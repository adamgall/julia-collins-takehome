(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{87376:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return R}});var r=e(87757),s=e.n(r),i=e(92137),a=e(85893),u=e(6610),c=e(5991),o=e(65255),f=e(53724),l=e(77608),p=e(67294),d=e(9008),h=e(25675),A={src:"/_next/static/image/public/starr.e182fd7442630843d8ce881b2dc241a0.png",height:294,width:300,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA2UlEQVR42mMAgZ+Xw5lB9K/zIYq/LoTxgti/T3kwMqCD36ftj/y8Gp6MIvjzSrTwx3ct4r/PesT8OWH8/+fV0Kv/d3Fr/dsnL/XrYggnUJdz9u+zLv9/XfT+//uM/V8g/v/npOn/X+c97/+4miDLAAL/DsrX/zlpDhR0+f77tM3fn1eC3n2/m2YMt+bzi1rJn5cD/v85ZQlU5Pr/30G57SDxP6d0WSDuuBYZ/ueU1d+/h7XKftyIWv37jNPL/9uFuRCuP+Op++eYlSrc4Vej7H6f8eBnYGBgAAAtV3EqqsqM7QAAAABJRU5ErkJggg=="},v=(e(5152),function(t){for(var n=[],e=0;e<t.dbData.length;e++)n.push((0,a.jsx)(h.default,{id:"star-child",width:50,height:50,src:A}));return(0,a.jsx)("div",{className:"star-container",children:n})}),y=e(46500),g=e(3754),b=e(79005),m=e(3283),x=e.n(m),D=e(41825),w=e(11163),j=function(t){var n=(0,p.useState)(""),e=n[0],r=n[1],u=(0,p.useState)(""),c=(u[0],u[1],function(){var t=(0,i.Z)(s().mark((function t(n){var i,a,u,c,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),i=new(x())(new(x().providers.WebsocketProvider)("ws://localhost:7545")),a=new i.eth.Contract(D.CONTRACT_ABI,D.CONTRACT_ADDRESS),u=i.utils.asciiToHex(e).padEnd(66,"0"),t.next=6,i.eth.getAccounts();case 6:return c=t.sent,t.next=9,a.methods.hashWish(u).send({from:c[0]});case 9:return console.log("hitting",c[0]),t.next=12,a.getPastEvents("WishMade",{});case 12:o=t.sent,console.log("results!",o),r(""),setTimeout((function(){w.default.push({pathname:"/"})}),2e3);case 16:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}());return(0,a.jsx)("div",{id:"input-form",children:(0,a.jsxs)(y.Z,{className:"mb-3",id:"form",onSubmit:c,children:[(0,a.jsx)(g.Z,{onClick:c,variant:"outline-secondary",id:"button-addon1",children:"Button"}),(0,a.jsx)(b.Z,{"aria-label":"form-button","aria-describedby":"basic-addon1",value:e,onChange:function(t){return r(t.target.value)}})]})})},C=e(9669),T=e.n(C);function _(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=(0,l.Z)(t);if(n){var s=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return(0,f.Z)(this,e)}}var R=function(t){(0,o.Z)(e,t);var n=_(e);function e(){return(0,u.Z)(this,e),n.apply(this,arguments)}return(0,c.Z)(e,[{key:"render",value:function(){return(0,a.jsxs)("div",{children:[(0,a.jsxs)(d.default,{children:[(0,a.jsx)("title",{children:"SpaceHash"}),(0,a.jsx)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css",integrity:"sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC",crossOrigin:"anonymous"})]}),(0,a.jsx)(v,{dbData:this.props.dbData}),(0,a.jsx)(j,{}),(0,a.jsx)("div",{class:"stars"}),(0,a.jsx)("div",{class:"twinkling"}),(0,a.jsx)("div",{class:"clouds"})]})}}],[{key:"getInitialProps",value:function(){var t=(0,i.Z)(s().mark((function t(){var n,e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T().get("http://localhost:3001/getWishes");case 3:e=t.sent,n=e.data,console.log(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("error fetching initial props",t.t0);case 11:return t.abrupt("return",{dbData:n});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()}]),e}(p.Component)},78581:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(87376)}])},41825:function(t){t.exports={CONTRACT_ABI:[{anonymous:!1,inputs:[],name:"DrainWishes",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"wish",type:"bytes32"}],name:"WishMade",type:"event"},{constant:!1,inputs:[{internalType:"bytes32",name:"_wish",type:"bytes32"}],name:"hashWish",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"drainWishes",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],CONTRACT_ADDRESS:"0xf665F60Cc1353d2Abb4aD5Af60AB32ca8c031D58"}},88677:function(){},62808:function(){},80950:function(){},46601:function(){},89214:function(){},8623:function(){},7748:function(){},85568:function(){},56619:function(){},77108:function(){},52361:function(){},94616:function(){},6567:function(){},43503:function(){},55896:function(){},87500:function(){}},function(t){t.O(0,[774,988,888,179],(function(){return n=78581,t(t.s=n);var n}));var n=t.O();_N_E=n}]);