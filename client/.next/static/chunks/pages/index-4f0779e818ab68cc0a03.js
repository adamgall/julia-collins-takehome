(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{87493:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return _}});var r=n(87757),a=n.n(r),s=n(92137),i=n(85893),c=n(6610),o=n(5991),u=n(65255),l=n(53724),f=n(77608),p=n(67294),d=n(9008),h=n(25675),A={src:"/_next/static/image/public/starr.e182fd7442630843d8ce881b2dc241a0.png",height:294,width:300,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA2UlEQVR42mMAgZ+Xw5lB9K/zIYq/LoTxgti/T3kwMqCD36ftj/y8Gp6MIvjzSrTwx3ct4r/PesT8OWH8/+fV0Kv/d3Fr/dsnL/XrYggnUJdz9u+zLv9/XfT+//uM/V8g/v/npOn/X+c97/+4miDLAAL/DsrX/zlpDhR0+f77tM3fn1eC3n2/m2YMt+bzi1rJn5cD/v85ZQlU5Pr/30G57SDxP6d0WSDuuBYZ/ueU1d+/h7XKftyIWv37jNPL/9uFuRCuP+Op++eYlSrc4Vej7H6f8eBnYGBgAAAtV3EqqsqM7QAAAABJRU5ErkJggg=="},v=(n(5152),n(81492)),y=n(3754),g=function(t){return(0,i.jsx)("div",{id:"modal",children:(0,i.jsxs)(v.Z.Dialog,{children:[(0,i.jsx)(v.Z.Header,{children:(0,i.jsx)(v.Z.Title,{children:"Your Dream, Immortalized In The Stars"})}),(0,i.jsx)(v.Z.Body,{children:(0,i.jsxs)("p",{children:[t.starData._id," - Star Speak"]})}),(0,i.jsx)(v.Z.Footer,{children:(0,i.jsx)(y.Z,{onClick:function(){t.setShowData(!1)},variant:"secondary",children:"Close"})})]})})},b=function(t){var e=(0,p.useState)(""),n=e[0],r=e[1],a=(0,p.useState)(!1),s=a[0],c=a[1];for(var o=[],u=function(e){o.push((0,i.jsx)(h.default,{onClick:function(){return function(t){r(t),c(!0)}(t.dbData[e])},id:"star-child",width:50,height:50,src:A},e))},l=0;l<t.dbData.length;l++)u(l);return(0,i.jsxs)("div",{className:"star-container",children:[o,s?(0,i.jsx)(g,{setShowData:c,starData:n}):""]})},m=n(96156),x=n(43489),j=n(3397),w=n(79005),D=n(93150),O=n(3283),E=n.n(O),k=n(41825),S=n(11163),C={src:"/_next/static/image/public/rocket.e0a2b67cf15e9468ae2520b8cb6558a3.png",height:360,width:360,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA5ElEQVR42mP4//8/w9OpBUwg+pmTwZwrIgyzQOz/07PAYgxfb+4EM/7/fyjzZMeM/7fXdv37/Gi+BEjs1o4ORoY//28xgzj/nh0ouHxy3f/Tu+b+f3O8NxMk9vHuEmYGEOMgA4P47Z7SX68e7Pz/5NKy/yfyvH70MzCIgq0AEfcYGDguB7ncfL6o6e/lCdn/dspwXz/IwMAGVnDFWZARxLjIwCD2fHrr3stN+XvygWyQ2A4GBkYGEOPFrV9gh/5+v/vsz7vrT4HYD148ZoZb8fd6Epjz67xv+o89vqkg9p/j8WAxAHp2oiLs2idNAAAAAElFTkSuQmCC"};function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){(0,m.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var N=function(t){var e=(0,p.useState)(""),n=e[0],r=e[1],c=(0,p.useState)(null),o=c[0],u=c[1],l=(0,p.useState)(null),f=l[0],d=l[1],A=(0,p.useState)(null),v=A[0],g=A[1];(0,p.useEffect)((0,s.Z)(a().mark((function t(){var e,n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new(E())(new(E().providers.WebsocketProvider)("ws://localhost:7545")),u(e),n=new e.eth.Contract(k.CONTRACT_ABI,k.CONTRACT_ADDRESS),g(n),t.next=6,e.eth.getAccounts();case 6:r=t.sent,d(r[0]);case 8:case"end":return t.stop()}}),t)}))),[]);var b=function(){var t=(0,s.Z)(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.methods.drainWishes().send({from:f});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log("Error when calling contract to drainWishes",t.t0);case 8:setTimeout((function(){S.default.push({pathname:"/"})}),1e3);case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),m=function(){var t=(0,s.Z)(a().mark((function t(e){var s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),s=o.utils.asciiToHex(n).padEnd(66,"0"),t.prev=2,t.next=5,v.methods.hashWish(s).send({from:f});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.log("Error when calling contract to hashWish",t.t0);case 10:r(""),setTimeout((function(){S.default.push({pathname:"/"})}),1e3);case 12:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}();return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{id:"input-form",children:(0,i.jsxs)(j.Z,{className:"mb-3",id:"form",onSubmit:m,children:[(0,i.jsx)(y.Z,{onClick:m,variant:"outline-secondary",id:"button-addon1",children:"Button"}),(0,i.jsx)(w.Z,{"aria-label":"form-button","aria-describedby":"basic-addon1",value:n,onChange:function(t){return r(t.target.value)}})]})}),(0,i.jsx)(D.Z,{style:{zIndex:"7",fontSize:"16px"},placement:"top",delay:{show:250,hide:400},overlay:function(t){return(0,i.jsx)(x.Z,T(T({id:"button-tooltip"},t),{},{children:"Empty the Sky, and Start Anew."}))},children:(0,i.jsx)("div",{id:"rocket-container",children:(0,i.jsx)(h.default,{className:"rocket",onClick:b,src:C,width:160,height:200,alt:"rocket"})})})]})},P=n(9669),R=n.n(P);function z(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,f.Z)(t);if(e){var a=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var _=function(t){(0,u.Z)(n,t);var e=z(n);function n(){return(0,c.Z)(this,n),e.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){return(0,i.jsxs)("div",{children:[(0,i.jsxs)(d.default,{children:[(0,i.jsx)("title",{children:"SpaceHash"}),(0,i.jsx)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css",integrity:"sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC",crossOrigin:"anonymous"})]}),(0,i.jsx)(b,{dbData:this.props.dbData}),(0,i.jsx)(N,{}),(0,i.jsx)("div",{className:"stars"}),(0,i.jsx)("div",{className:"twinkling"}),(0,i.jsx)("div",{className:"clouds"})]})}}],[{key:"getInitialProps",value:function(){var t=(0,s.Z)(a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R().get("http://localhost:3001/getWishes");case 3:n=t.sent,e=n.data,console.log(e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("error fetching initial props",t.t0);case 11:return t.abrupt("return",{dbData:e});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()}]),n}(p.Component)},78581:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(87493)}])},41825:function(t){t.exports={CONTRACT_ABI:[{anonymous:!1,inputs:[],name:"DrainWishes",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"wish",type:"bytes32"}],name:"WishMade",type:"event"},{constant:!1,inputs:[{internalType:"bytes32",name:"_wish",type:"bytes32"}],name:"hashWish",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"drainWishes",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],CONTRACT_ADDRESS:"0x61CBC353EFF619990930aF457F1e4273c3f59A9E"}},88677:function(){},62808:function(){},80950:function(){},46601:function(){},89214:function(){},8623:function(){},7748:function(){},85568:function(){},56619:function(){},77108:function(){},52361:function(){},94616:function(){},6567:function(){},43503:function(){},55896:function(){},87500:function(){}},function(t){t.O(0,[774,947,888,179],(function(){return e=78581,t(t.s=e);var e}));var e=t.O();_N_E=e}]);