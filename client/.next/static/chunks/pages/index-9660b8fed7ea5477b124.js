(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3656:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return x}});var s=e(85893),i=e(9008),o=e(67294),a=function(){return(0,s.jsx)("div",{className:"intro"})},u=e(87757),c=e.n(u),r=e(92137),l=e(46500),f=e(3754),h=e(79005),d=e(3283),p=e.n(d),y=e(9669),b=e.n(y),m=e(41825),v=function(){var n=(0,o.useState)(""),t=n[0],e=n[1],i=(0,o.useState)(""),a=(i[0],i[1],(0,o.useState)([])),u=a[0];a[1];(0,o.useEffect)((function(){b().get("http://localhost:3001/getWishes").then((function(n){return console.log(n)})).then((function(n){console.log("all wishes",n)})).catch((function(n){console.log("error with fetching",n)}))}),[t]);var d=function(){var n=(0,r.Z)(c().mark((function n(s){var i,o,a,u,r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s.preventDefault(),i=new(p())(new(p().providers.WebsocketProvider)("ws://localhost:7545")),o=new i.eth.Contract(m.CONTRACT_ABI,m.CONTRACT_ADDRESS),a=i.utils.asciiToHex(t).padEnd(66,"0"),n.next=6,i.eth.getAccounts();case 6:return u=n.sent,n.next=9,o.methods.hashWish(a).send({from:u[0]});case 9:return console.log("hitting",u[0]),n.next=12,o.getPastEvents("WishMade",{});case 12:r=n.sent,console.log("results!",r),e("");case 15:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return(0,s.jsxs)("div",{id:"input-form",children:[(0,s.jsxs)(l.Z,{className:"mb-3",id:"form",onSubmit:d,children:[(0,s.jsx)(f.Z,{onClick:d,variant:"outline-secondary",id:"button-addon1",children:"Button"}),(0,s.jsx)(h.Z,{"aria-label":"form-button","aria-describedby":"basic-addon1",value:t,onChange:function(n){return e(n.target.value)}})]}),u]})},x=(next,function(){return(0,s.jsxs)("div",{children:[(0,s.jsxs)(i.default,{children:[(0,s.jsx)("title",{children:"SpaceHash"}),(0,s.jsx)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css",integrity:"sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC",crossOrigin:"anonymous"})]}),(0,s.jsx)(a,{}),(0,s.jsx)(v,{}),(0,s.jsx)("div",{class:"stars"}),(0,s.jsx)("div",{class:"twinkling"}),(0,s.jsx)("div",{class:"clouds"})]})})},78581:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(3656)}])},41825:function(n){n.exports={CONTRACT_ABI:[{anonymous:!1,inputs:[],name:"DrainWishes",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"wish",type:"bytes32"}],name:"WishMade",type:"event"},{constant:!1,inputs:[{internalType:"bytes32",name:"_wish",type:"bytes32"}],name:"hashWish",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"drainWishes",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],CONTRACT_ADDRESS:"0xf665F60Cc1353d2Abb4aD5Af60AB32ca8c031D58"}},88677:function(){},62808:function(){},80950:function(){},46601:function(){},89214:function(){},8623:function(){},7748:function(){},85568:function(){},56619:function(){},77108:function(){},52361:function(){},94616:function(){},6567:function(){},43503:function(){},55896:function(){},87500:function(){}},function(n){n.O(0,[774,969,888,179],(function(){return t=78581,n(n.s=t);var t}));var t=n.O();_N_E=t}]);